# Инструкция по работе с git

## Что это и для чего нужна система контроля версий?

Система контроля версий позволяет комфортно работать над проектом как индивидуально, так в коллективе. 

VCS отслеживает изменения в файлах, предоставляет возможности для создания новых и слияние существующих ветвей проекта, производит контроль доступа пользователей к проекту, позволяет откатывать исправления и определять кто, когда и какие изменения вносил в проект. 

Основным понятием VCS является репозиторий (repository) – специальное хранилище файлов и папок проекта, изменения в которых отслеживаются. В распоряжении разработчика имеется так называемая “рабочая копия” (working copy) проекта, с которой он непосредственно работает. 

Рабочую копию необходимо периодически синхронизировать с репозиторием, эта операция предполагает отправку в него изменений, которые пользователь внес в свою рабочую копию (такая операция называется commit) и актуализацию рабочей копии, в процессе которой к пользователю загружается последняя версия из репозитория (этот процесс носит название update).

### Что такое система контроля версий?

Git (читается как «гит») — *это система контроля версий*, которая помогает отслеживать историю изменений в файлах. Git используют программисты для совместной работы над проектами. Git — система контроля версий. В самом простом виде контроль версий — это сохранение на компьютере серии измененных файлов, например с разными датами в названии, или режим отслеживания исправлений в текстовых документах.

### Для чего нужна система контроля версий

Позволяет работать нескольким пользователям с одним проектом и отслеживать версионность, редактировать и вносить изменения в проэкт, создавать ветки.
Возможность хранить различные версии проекта и возвращаться к версиям проекта

## Установка git и VSCode на ваш ПК.

### Установка VSCode на ваш ПК.

**Версия от группы 4**
Для установки VSCode на ПК нужно выполнить следующие шаги:
1. Открыть [главную страницу](https://code.visualstudio.com)
1. В верхней части экрана синяя кнопка Download, например если ваша ОС MacOS, то кнопка будет называться **Download Mac Universal**
1. Загружаем файл в папку Downloads
1. После загрузки запускаем установку двойным щелчком
1. Следуем инструкции

**Версия от Шахемира**
Заходим на [сайт](https://code.visualstudio.com/download). Скачиваем для нашей платформы программу. Устанавливаем следуя инструкции

### Установка git на ваш ПК
1. Открыть [главную страницу Git](https://git-scm.com)

2. Переходим в раздел [Downloads](https://git-scm.com/downloads)

3. Выбираем нужный тип ОС и скачиваем файл.

4. Запускаем установку и следуюем инструкции по установке

#### Установка на MacOS с помощью `brew`
```
brew install git
```

Установка git на разные операционные системы:
* Для MacOs git присутствует в системе в инструментах для разработчика.
* Загрузка и установка для Windows...
1. Перейдите в папку “Downloads” и запустите на исполнение загруженный файл.
2. Укажите путь до каталога в который будет установлен Git.
3. Чтобы на рабочем столе была иконка Git, на следующем шаге отметьте галочкой “On the Desktop”. 

1. Начать установку Git нужно с загрузки установочного файла с официального сайта.
2. Далее выбираем версию.
3. Запускаем скачанный установочный файл, читаем лицензию и жмем Next.

#### Первая настройка git

Необходимо представиться системе контроля путем набора следующих комманд:

1. git config --global user.name "name".
2. git config --global user.email "1234njkdf@mail.ru"

## Создание и базовая работа с локальным репозиторием.

6. Что такое репозиторий и инструкция по созданию локальных репозиториев.
Чтобы создать локальный репозиторий, необходимо ввести команду `git init`. Таким образом создается системная папка с нашим проектом. Далее создаём файл с расширением .md. Git может работать не только с файлами .md, но и с любыми другими форматами, markdown в этом плане имеет больше возможностей. После этого необходимо дать git команду о фиксировании этого файла в репозитории. Для начала проверяем статус нашего файла посредством выполнения команды `git status`. Статус No commits yet - изменения пока что не зафиксированы, Untracked files - git пока что его не отслеживает, сам файл будет выделен красным шрифтом.
Для того, чтобы git начал отслеживание нашего файла, вводим команду `git add "название нашего файла"`. Снова вводим команду `git status`, файл будет выделен зелёным, что будет означать, что git его отслеживает. Чтобы отменить отслеживание файла, нужно ввести команду `git rm --cached "название нашего файла"`. Также, если нам не нужен какой то файл в нашем локальном репозитории, мы можем его удалить. Для этого необходимо ввести команду `git rm название файла`. Если файл не будет отслеживаем, git его спокойно удалит. Если же он будет отслеживаться, т.к. мы уже дали ему до этого версионность, git предложит удалить его принудительно, для чего нам нужно будет ввести команду git `rm -f название файла`.

Чтобы зафиксировать изменения в файле, используется команда `git commit -m "Название версии"`. Перед этим необходимо сохранить текущую версию файла посредством команды ctrl + s. Если команда `git status` дает недостаточно подробный результат, например если нам необходимо не только получить список отредактированных файлов, но и узнать, что именно изменилось, необходимо воспользоваться командой `git diff`. Она показывает добавленные и удаленные строки — то есть все вставки в программу. Команда `git diff` без дополнительных параметров позволяет посмотреть, что было изменено, но пока не проиндексировано. Важно помнить, что сама по себе команда `git diff` показывает не все изменения, сделанные с момента последней фиксации состояния, а только те, которые еще не проиндексированы. То есть если вы проиндексировали все сделанные изменения, команда `git diff` ничего нам не вернет.
Чтобы вывести историю всех имеющихся сохранений, вводится команда `git log`. Здесь содержится информация о всех версиях файла (коммитах), т.е. число, время изменения, авторство и уникальный идентификационный номер каждой из веток.
Чтобы вернуться к предыдущей версии нашего файла, вводим уже указанную выше команду `git log`. Выбираем нужную версию, копируем ее идентификационный номер, после чего вводим команду `git checkout "номер нашего сохранения"`. Для того, чтобы вернуться обратно к фактической версии повторно вводим команду `git checkout` и добавляем в конце команды `master`.
Если у нас имеются файлы, которые мы не хотим ни автоматически добавлять в репозиторий, ни видеть в списке неотслеживаемых, то в подобных случаях создается файл `.gitignore`. Настройки файла `.gitignore` защищают от случайного добавления в репозиторий файлов, которые там не нужны. К примеру, мы хотим добавить в наш git изображение. Для начала поместим само изображение в рабочую папку репозитория. Далее вводим команду `git status`. Git выдаст сообщение о том, что файл с изображением не отслеживается. Добавляем нашему изображению версионность посредством ввода команды `git add "наименование нашего изображения"`. Чтобы изображение было отображаемо в нашем файле, вводим команду `![Git logo](наименование изображения)`. После чего создаем файл .gitignore и даём ему "руководство" игнорировать все файлы соответствующего формата. В нашем случае это .jpeg. Обязательно перед указанием формата файла нужно поставить знак *. По такому же принципу можно добавлять в данный файл и остальные форматы, если мы хотим, чтобы git их не отслеживал и не фиксировал в нашем репозитории. После данных манипуляций добавляем версионность также файлу .gitignore посредством ввода команды `git add .gitignore` и создаём коммит, чтобы зафиксировать изменения.



## Ветки. Локальная работа с ветками в git.

*git branch* - **показать список веток**
*git branch -v* - **показать список веток и последний коммит в каждой**
*git branch new_branch* - **создать новую ветку с указанным именем на текущем коммите**
*git branch new_branch 5589877* - **создать новую ветку с указанным именем на указанном коммите**
*git branch -f master 5589877* - **переместить ветку master на указанный коммит**
*git branch -f master master~2* - **переместить ветку master на 2 коммита назад**
*git checkout new_branch* - **перейти в указанную ветку**
*git checkout -b new_branch* - **создать новую ветку с указанным именем и перейти в неё**
*git checkout -B master 5589877* - **переместить ветку с указанным именем на указанный коммит и перейти в неё**
*git merge hotfix* - **влить в ветку, в которой находимся, данные из ветки hotfix**
*git merge hotfix -m "Горячая правка"* - **влить в ветку, в которой находимся, данные из ветки hotfix (указано сообщение коммита слияния)**
*git merge hotfix --log* - **влить в ветку, в которой находимся, данные из ветки hotfix, показать редактор описания коммита, добавить в него сообщения вливаемых коммитов**
*git merge hotfix --no-ff* - **влить в ветку, в которой находимся, данные из ветки hotfix, запретить простой сдвиг указателя, изменения из hotfix «останутся» в ней, а в активной ветке появится только коммит слияния**
*git branch -d hotfix* - **удалить ветку hotfix (используется, если её изменения уже влиты в главную ветку)**
*git branch --merged* - **показать ветки, уже слитые с активной**
*git branch --no-merged* - **показать ветки, не слитые с активной**
*git branch -a* - **показать все имеющиеся ветки (в т.ч. на удаленных репозиториях)**
*git branch -m old_branch_name new_branch_name* - **переименовать локально ветку old_branch_name в new_branch_name**
*git branch -m new_branch_name* - **переименовать локально ТЕКУЩУЮ ветку в new_branch_name**
*git push origin :old_branch_name new_branch_name** - **применить переименование в удаленном репозитории**
*git branch --unset-upstream* - **завершить процесс переименования**

### Что такое ветки и для чего они нужны при работе с системой контроля версий.

### Базовая работа с ветками в git.
Merging is used in Git to piece together a branched history. The `git merge` command merges individual branches created using the `git branch` command into a single branch.
The `git merge` command combines several commit sequences into a common history. Most often, the `git merge` command is used to merge two branches. In such cases, the git merge command takes two pointers to commits (usually the last ones in the branch) and finds a parent commit common to them. Git then creates a __merge commit__ that combines the changes from both sequences selected for the merge.

Before merging, several preparatory actions should be taken so that the operation goes without problems. Use the `git status` command. This will make sure that the HEAD points to the branch receiving the merge results. If necessary, run the `git checkout <receiving_branch>` command to switch to the host branch. For example, run the `git checkout master` command.

After the above steps, you can proceed to **merge**. To do this, run the `git merge <receiving_branch>` command, where <receiving_branch> is the name of the branch that will be merged with the host (master branch as example).

#### __Основные команды при работе с ветками:__

```
- git config --global init.defaultBranch <name> // установить название главной ветки

- git branch // показать имеющиеся ветки (на какой находится)

- git branch <название ветки> // создание новой ветки из той, в которой находишься

- git checkout <название ветки> // перейти на конкретную ветку

- git merge <название > // слияние названной ветки с той веткой, в которой находишься

- git branch -d <название ветки> // удаляет отслеживание ветки, если она не нужна

- git log --graph // визуализирует дерево веток и коммитов
```

## Работа с удаленными репозиториями.

### Что такое удаленный репозиторий и для чего он нужен

 Удалённые репозитории — это модификации проекта, которые хранятся в интернете или ещё где-то в сети. Их может быть несколько, каждый из которых как правило доступен для вас либо только на чтение, либо на чтение и запись.
 
 git push origin
Аналогично предыдущему, но делается пуш только ветки master:

git push origin master
Запушить текущую ветку, не вводя целиком ее название:

git push origin HEAD
Замержить все ветки с удаленного репозитория:

git pull origin
Аналогично предыдущему, но накатывается только ветка master:

git pull origin master
Накатить текущую ветку, не вводя ее длинное имя:

git pull origin HEAD
Скачать все ветки с origin, но не мержить их в локальный репозиторий:

git fetch origin
Аналогично предыдущему, но только для одной заданной ветки:

git fetch origin master

### Базовая работа с удаленными репозиториями GitHub

#### Список команд для работы с удаленным репозиторием
1. *git clone <ссылка на удаленный репозиторий>* позволяет скопировать удаленный репозиторий на свой ПК.
2. *git remote* показывает список удаленных подключений.
3. *git remote add <название соединения> <ссылка на удаленный репозиторий>* позволяет связать локальный репозиторий с удаленным(создать новое подключение).
4. *git pull* позволяет вытянуть изменения с удаленного репозитория и объединить(merge) их в локальном.
5. *git push* позволяет отправить изменения из локального репозитория в удаленный.
6. *git fetch* позволяет вытянуть изменения с удаленного репозитория без объединения их в локальном.

## Совместная работа над проектом (fork, pull request)

### Как строится и для чего нужна совместная работа в системах контроля версий
Как строится и для чего нужна совместная работа в системах контроля версий

Git (читается как «гит») — это система контроля версий, которая помогает отслеживать историю изменений в файлах. Git используют программисты для совместной работы над проектами. Git — система контроля версий. В самом простом виде контроль версий — это сохранение на компьютере серии измененных файлов, например с разными датами в названии, или режим отслеживания исправлений в текстовых документах.
с системой. 
**Начало работы с проектом**
**Ежедневный цикл работы**
**Ветвления**
**Слияние версий**
**разрешение**
Блокировки
Версии проекта, теги
дерева.
фрагментов кода.




### Инструкция по созданию pull request

## Книги и полезные ссылки по изучению git.
1. Ссылка на сайт для отработки навыка работы с ветвлением и коммитами в Git [Learngitbranching](https://learngitbranching.js.org/?locale=ru_RU)
2. Бесплатный курс на GeekBrains [Git.Базовый курс](https://gb.ru/courses/1117)
3. [Книги](https://tproger.ru/books/4-books-about-vcs/0) о системах контроля версий 
- **Git Magic**

В книге сделан упор на практическое применение, а не на объяснение теоретических подробностей — авторы считают, что при частом и умелом использовании тех или иных трюков Git технические нюансы станут ясны пользователям сами по себе. 
- **Pro Git**

«Pro Git» — это довольно обширная обучающая книга о Git от одного из участников разработки проектов Git и GitHub — Скотта Шакона.
- **Mercurial: The Definitive Guide**

Mercurial — это современная распределенная система контроля версий с открытым кодом. Описано как перейти на него с других систем: git, Subversion, Monotone и прочих.
- **Version Control with Subversion**

Сейчас эту систему всё больше вытесняет Git, хотя в 2011 году количество их пользователей было примерно равным. 

## Альтернативные системы контроля версий.
